# **Backend Reference Application on Go**

Этот проект представляет собой эталонное приложение бэкенда, созданное с использованием языка Go. Оно демонстрирует принципы модульного проектирования, интеграцию с микросервисами, работу с популярными технологиями и инструментами. Проект может служить базой для разработки крупных высоконагруженных приложений.

---

## **Особенности**

- **Микросервисная архитектура**:
    - `cart`: сервис управления корзиной.
    - `loms`: сервис управления заказами и запасами.
    - `notifier`: сервис для обработки событий Kafka.

- **Интеграция с внешними инструментами и библиотеками**:
    - **Redis** для кэширования.
    - **PostgreSQL** с репликацией для хранения данных.
    - **Kafka** для асинхронной обработки событий.
    - **Swagger UI** для документации API.
    - **Prometheus** и **Grafana** для мониторинга.
    - **Jaeger** для распределённого трейсинга.

- **Docker Compose**:
    - Все микросервисы и инфраструктура запускаются с помощью одного файла `docker-compose.yml`.
    - Используется версия `3.8` для обеспечения совместимости с современными инструментами.

- **Гибкая настройка**:
    - Среда конфигурируется через переменные окружения и файлы конфигурации.
    - Простое масштабирование за счёт дополнительных инстансов баз данных или брокеров сообщений.

---

## **Запуск проекта**

### **Требования**
- Docker и Docker Compose.
- Порт 8080, 8081, 8082, 9090, 9092, 3000 и другие свободны для использования.

### **Шаги для запуска**
1. Склонируйте репозиторий:
   ```bash
   git clone https://github.com/akaC1J/ReferenceBackendApplicationGo
   cd ReferenceBackendApplicationGo 
2. Поднимите инфраструктуру и запустите сервисы
    ```bash
    make run-full-infra
    make run-all
   

# **Доступ к сервисам**

- **cart**: [http://localhost:8082](http://localhost:8082)
- **loms**: [http://localhost:8081](http://localhost:8081) (REST и gRPC)
- **swagger-ui**: [http://localhost:8089](http://localhost:8089)
- **kafka-ui**: [http://localhost:8080](http://localhost:8080)
- **Prometheus**: [http://localhost:9090](http://localhost:9090)
- **Grafana**: [http://localhost:3000](http://localhost:3000)
- **Jaeger**: [http://localhost:16686](http://localhost:16686)

---

## **Компоненты проекта**

### **Сервисы**

- **cart**:
    - Управление корзинами пользователей.
    - Взаимодействие с сервисом `loms` для обработки запасов.

- **loms**:
    - Управление заказами и запасами.
    - Поддержка REST и gRPC интерфейсов.
    - Обработка событий Kafka.

- **notifier**:
    - Асинхронная обработка событий из Kafka.

### **Инфраструктура**

- **Redis**: кэширование данных для повышения производительности.
- **PostgreSQL**:
    - Репликация между мастером и слейвом.
    - Два инстанса мастера для демонстрации масштабируемости.
- **Kafka**:
    - Организация потоков данных через топики.
- **Swagger UI**: документация для REST API.
- **Prometheus**: мониторинг системных метрик.
- **Grafana**: визуализация метрик.
- **Jaeger**: распределённый трейсинг для анализа производительности.

---

## **Технологический стек**

- **Язык программирования**: Go.
- **gRPC**: для эффективного взаимодействия между сервисами.
- **Redis**: для кэширования.
- **PostgreSQL**: реляционная база данных.
- **Kafka**: асинхронные очереди сообщений.
- **Prometheus & Grafana**: мониторинг и визуализация метрик.
- **Jaeger**: распределённый трейсинг.
- **Swagger**: документирование API.

---

## **Рекомендуемая структура кода**

- **/cart**: исходный код для микросервиса `cart`.
- **/loms**: исходный код для микросервиса `loms`.
- **/notifier**: исходный код для сервиса обработки событий.
- **/config**: файлы конфигурации для различных сервисов.
- **/docker-compose.yml**: описание всех сервисов и их взаимодействий.

---

## **Как использовать**

- **Обучение**: изучите архитектуру и реализацию сервисов.
- **Разработка**: используйте как базу для своих приложений.
- **Интеграция**: дополняйте сервисы или добавляйте новые технологии.

---

## **Мониторинг**

- **Grafana**: настройте для подключения к Prometheus.
- **Jaeger**: используйте для анализа трассировки запросов.
- **Kafka UI**: исследуйте Kafka для управления топиками и сообщениями.

